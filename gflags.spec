#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : gflags
Version  : 2.1.2
Release  : 8
URL      : https://github.com/gflags/gflags/archive/v2.1.2.tar.gz
Source0  : https://github.com/gflags/gflags/archive/v2.1.2.tar.gz
Summary  : No detailed summary available
Group    : Development/Tools
License  : BSD-3-Clause
Requires: gflags-bin
Requires: gflags-lib
BuildRequires : cmake

%description
24 March 2015
-------------
Released gflags 2.1.2 with fixes of ABI incompatibilities to 2.0 caused
by namespace change. The deprecated "google" namespace is yet kept as primary
namespace while sybmols are imported into the new "gflags" namespace by default.
This can be configured using GFLAGS_NAMESPACE and GLAGS_INCLUDE_DIR. Problems
with the (patched) CMake modules FindThreads.cmake and CheckTypeSize.cmake
are resolved by re-enabling the C language again even though gflags is C++.

%package bin
Summary: bin components for the gflags package.
Group: Binaries

%description bin
bin components for the gflags package.


%package dev
Summary: dev components for the gflags package.
Group: Development
Requires: gflags-lib
Requires: gflags-bin

%description dev
dev components for the gflags package.


%package lib
Summary: lib components for the gflags package.
Group: Libraries

%description lib
lib components for the gflags package.


%prep
%setup -q -n gflags-2.1.2

%build
mkdir clr-build
pushd clr-build
cmake .. -G "Unix Makefiles" -DCMAKE_INSTALL_PREFIX=/usr -DBUILD_SHARED_LIBS:BOOL=ON -DLIB_INSTALL_DIR:PATH=%{_libdir} -DBUILD_SHARED_LIBS:BOOL=ON
make V=1  %{?_smp_mflags}
popd

%check
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost
ctest

%install
rm -rf %{buildroot}
pushd clr-build
%make_install
popd

%files
%defattr(-,root,root,-)
/usr/lib64/cmake/gflags/gflags-config-version.cmake
/usr/lib64/cmake/gflags/gflags-config.cmake
/usr/lib64/cmake/gflags/gflags-export-noconfig.cmake
/usr/lib64/cmake/gflags/gflags-export.cmake

%files bin
%defattr(-,root,root,-)
/usr/bin/gflags_completions.sh

%files dev
%defattr(-,root,root,-)
/usr/include/gflags/gflags.h
/usr/include/gflags/gflags_completions.h
/usr/include/gflags/gflags_declare.h
/usr/include/gflags/gflags_gflags.h
/usr/lib64/*.so

%files lib
%defattr(-,root,root,-)
/usr/lib64/*.so.*
